---
import { getCollection } from 'astro:content';
import BaseLayout from '../../../layouts/BaseLayout.astro';

const base = import.meta.env.BASE_URL;

const getPath = (path) => {
  const normalizedPath = path.startsWith('/') ? path : `/${path}`;
  if (base === '/') return normalizedPath;
  return `${base}${normalizedPath}`;
};

const heartContent = await getCollection('seva', ({ data }) => {
  return data.category === 'heart' && data.status === 'published';
});

const sortedContent = heartContent.sort((a, b) => 
  new Date(b.data.date).getTime() - new Date(a.data.date).getTime()
);
---

<BaseLayout title="Warrier H.E.A.R.T. | Padmanand Warrier">
  <div class="page-container">
    <h1>The Warrier H.E.A.R.T. Framework</h1>

    <img src={getPath('/frameworks/warrier-heart/logo.png')} alt="Warrier H.E.A.R.T. Framework" style="float: right; margin: 0 0 24px 32px; max-width: 250px;" />

    <p>
      The Warrier H.E.A.R.T. framework—Human-centric design, Entrepreneurial spirit, Asset development, Regenerative practices, and Technology-enabled connections—took shape over time through observing how technology initiatives succeed or falter depending on what they emphasize. At the 2018 SXSW Cities Summit, where discussions were largely oriented around autonomous vehicles and smart sensors, the human dimension of urban systems appeared less prominently in the conversation. That contrast helped sharpen a question I had been examining: what might change if technology were designed with human flourishing as an explicit objective, rather than as an implicit outcome?
    </p>
    
    <p>
      The framework reflects an effort to work through that question—a lens for orienting innovation toward enduring human value. It draws on decades of building systems under real constraints, observing both the benefits and the second-order effects of technology-led transformation, and recognizing that how we build shapes outcomes as much as what we build.
    </p>
    
    <p>
      At NITK, the Warrier H.E.A.R.T. Hub applies these principles through institutional service and campus-based innovation. Established in 2024, the Hub provides a platform for students, researchers, and industry partners to develop solutions addressing urgent challenges—for the campus and for the planet. The campus becomes a living laboratory where sustainable AI and regenerative practices create local impact with global relevance.
    </p>
    
    <p>
      <em>Read the <a href={getPath('/ideas/philosophy')}>complete framework essay</a> for the full origin story and principles.</em>
    </p>

    {sortedContent.length === 0 ? (
      <p class="no-content"><em>Content coming soon.</em></p>
    ) : (
      <ul class="content-list">
        {sortedContent.map((item) => (
          <li class="content-item">
            <h3>
              <a href={getPath(`/seva/${item.slug}`)}>{item.data.title}</a>
            </h3>
            
            {item.data.summary && (
              <p class="summary">{item.data.summary}</p>
            )}
            
            <div class="metadata">
              <span class="date">
                {new Date(item.data.date).toLocaleDateString('en-US', { 
                  year: 'numeric', 
                  month: 'long' 
                })}
              </span>
              {item.data.type && (
                <>
                  <span class="separator"> · </span>
                  <span class="type">{item.data.type}</span>
                </>
              )}
              {item.data.era && (
                <>
                  <span class="separator"> · </span>
                  <span class="era">Era: {item.data.era}</span>
                </>
              )}
            </div>
          </li>
        ))}
      </ul>
    )}
  </div>
</BaseLayout>
