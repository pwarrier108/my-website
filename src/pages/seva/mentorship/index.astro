---
import BaseLayout from '../../../layouts/BaseLayout.astro';
import { getCollection } from 'astro:content';

const category = 'mentorship';
const base = import.meta.env.BASE_URL;

const sevaContent = await getCollection('seva', ({ data }) => 
    data.category === category && (data.status === 'published' || data.status === 'canonical')
);

const sortedContent = sevaContent.sort((a, b) => 
    b.data.date.valueOf() - a.data.date.valueOf()
);
---

<BaseLayout title="Mentorship — Seva" currentPage="seva">
    <div class="page-container">
        <h1>Mentorship</h1>
        
        <p>
            From guiding young adults in spiritual communities to mentoring startups in entrepreneurial ecosystems to building alumni networks and student mentorship programs at NITK—mentorship that scales beyond individuals to build lasting capability.
        </p>

        {sortedContent.length > 0 ? (
            <ul class="content-list">
                {sortedContent.map((item) => (
                    <li class="content-item">
                        <h3>
                            <a href={`${base}seva/mentorship/${item.slug}`}>
                                {item.data.title}
                            </a>
                        </h3>
                        {item.data.summary && <p class="summary">{item.data.summary}</p>}
                        <div class="metadata">
                            <span class="date">{item.data.date.toLocaleDateString('en-US', { year: 'numeric', month: 'long' })}</span>
                            {item.data.era && <span class="era">· Era: {item.data.era}</span>}
                        </div>
                    </li>
                ))}
            </ul>
        ) : (
            <p><em>Content coming soon.</em></p>
        )}
    </div>
</BaseLayout>
