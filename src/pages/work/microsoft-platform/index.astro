---
import BaseLayout from '../../../layouts/BaseLayout.astro';
import { getCollection } from 'astro:content';
import { getPath } from '../../../utils/pathUtils';

const microsoftPlatformWork = await getCollection('work', ({ data }) => 
    data.category === 'microsoft-platform' && data.status === 'published'
);

const sortedWork = microsoftPlatformWork.sort((a, b) => 
    b.data.date.valueOf() - a.data.date.valueOf()
);

const formatDate = (date) => {
    return new Intl.DateTimeFormat('en-US', { 
        month: 'long', 
        year: 'numeric' 
    }).format(date);
};
---

<BaseLayout title="2000s: Platform Evolution - Padmanand Warrier" currentPage="work">
    <div class="page-container">
        <h1>2000s: Platform Evolution</h1>

        <p class="section-intro">
            The decade when hardware and software converged, when the living room became 
            a technology frontier, and when platforms shaped ecosystems for partners to build the future.
        </p>

        {sortedWork.length > 0 && (
            <ul class="content-list">
                {sortedWork.map((item) => (
                    <li class="content-item">
                        <h2 class="content-item-title">
                            <a href={getPath(`/work/microsoft-platform/${item.slug}`)}>
                                {item.data.title}
                            </a>
                        </h2>
                        <div class="metadata">
                            <span class="metadata-item">
                                <span class="metadata-label">
                                    {item.data.type.charAt(0).toUpperCase() + item.data.type.slice(1)}
                                </span>
                            </span>
                            <span class="metadata-item">Published {formatDate(item.data.date)}</span>
                            {item.data.era && (
                                <span class="metadata-item"> Â· Era: {item.data.era}</span>
                            )}
                        </div>
                        <p class="content-item-summary">{item.data.summary}</p>
                    </li>
                ))}
            </ul>
        )}
    </div>
</BaseLayout>