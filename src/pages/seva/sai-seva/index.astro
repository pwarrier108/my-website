---
import BaseLayout from '../../../layouts/BaseLayout.astro';
import { getCollection } from 'astro:content';

const category = 'sai-seva';
const base = import.meta.env.BASE_URL;

const sevaContent = await getCollection('seva', ({ data }) => 
    data.category === category && (data.status === 'published' || data.status === 'canonical')
);

const sortedContent = sevaContent.sort((a, b) => 
    b.data.date.valueOf() - a.data.date.valueOf()
);
---

<BaseLayout title="Sathya Sai Seva Projects — Seva" currentPage="seva">
    <div class="page-container">
        <h1>Sathya Sai Seva Projects</h1>
        
        <p>
            Sri Sathya Sai Baba taught that selfless service—seva—is the path to realizing our divine nature. His central teaching, “Service to Man is Service to God,” transforms ordinary acts of compassion into sacred practice. The quality of service matters far more than its scale.
        </p>

        <p>
            Baba cautioned that the obstacles to true service are ego, attachment, and the feeling of doer-ship. A genuine volunteer strives to overcome these, understanding that service is done by God, to God, and for God.
        </p>

        <div class="teaching-quote">
            <p class="quote-text">
                “The act of service is not to be judged according to the cost or publicity it entails; it may be only the offering of a cup of water in the depth of a jungle. But the need of the recipient, the mood of the person who offers—these decide whether the act is gold or lead. Fill every act of yours with love.”
            </p>
            <p class="attribution">— Sri Sathya Sai Baba</p>
        </div>

        <h2>Service Projects</h2>

        <p>
            The journey of seva began in my early days as part of serving within the Sri Sathya Sai organization and continues to evolve. Each project reflects a particular era and context, yet all share the common thread of compassionate action guided by Baba’s teachings.
        </p>

        {sortedContent.length > 0 && (
            <ul class="content-list">
                {sortedContent.map((item) => (
                    <li class="content-item">
                        <h3>
                            <a href={`${base}seva/sai-seva/${item.slug}`}>
                                {item.data.title}
                            </a>
                        </h3>
                        {item.data.summary && <p class="summary">{item.data.summary}</p>}
                        <div class="metadata">
                            <span class="date">{item.data.date.toLocaleDateString('en-US', { year: 'numeric', month: 'long' })}</span>
                            {item.data.era && <span class="era">· Era: {item.data.era}</span>}
                        </div>
                    </li>
                ))}
            </ul>
        )}
    </div>
</BaseLayout>

<style>
    .teaching-quote {
        margin: 48px 0;
        padding: 32px;
        background-color: #fafaf8;
        border-left: 3px solid var(--color-accent, #2D5F3F);
    }

    .quote-text {
        font-style: italic;
        font-size: 18px;
        line-height: 1.7;
        color: var(--color-text-primary, #1A1A1A);
        margin-bottom: 16px;
    }

    .attribution {
        text-align: right;
        font-style: normal;
        color: var(--color-text-muted, #666666);
        font-size: 16px;
    }
</style>
